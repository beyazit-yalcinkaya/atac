<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE nta PUBLIC "-//Uppaal Team//DTD Flat System 1.1//EN" "http://www.it.uu.se/research/group/darts/uppaal/flat-1_1.dtd">
<nta>
  <declaration>chan appr;
chan stop;
chan go;
chan leave;
clock x_7;
</declaration>
    <template>
    <name x="5" y="5">Train</name>
    
    <declaration></declaration>
    
    <location id="id0" x="-158" y="-822">
      <name x="-158" y="-807">Safe</name>
      
      
      
      
    </location>

    <location id="id1" x="-101" y="-27">
      <name x="-101" y="-12">Cross</name>
      <label kind="invariant" x="-101" y="3">x_7 &lt;= 5</label>
      
      
      
    </location>

    <location id="id2" x="-101" y="-621">
      <name x="-101" y="-606">Appr</name>
      <label kind="invariant" x="-101" y="-591">x_7 &lt;= 20</label>
      
      
      
    </location>

    <location id="id3" x="-101" y="-228">
      <name x="-101" y="-213">Start</name>
      <label kind="invariant" x="-101" y="-198">x_7 &lt;= 15</label>
      
      
      
    </location>

    <location id="id4" x="-107" y="-436">
      <name x="-107" y="-421">Stop</name>
      
      
      
      
    </location>
    
    <init ref="id0" />
    
    <transition>
      <source ref="id0" />
      <target ref="id2" />
      
      
      <label kind="synchronisation" x="-159" y="-691">appr!</label>
      <label kind="assignment" x="-159" y="-676">x_7 := 0</label>
      
    </transition>

    <transition>
      <source ref="id2" />
      <target ref="id4" />
      
      <label kind="guard" x="-148" y="-517">x_7 &lt;= 10</label>
      <label kind="synchronisation" x="-148" y="-502">stop?</label>
      
      
    </transition>

    <transition>
      <source ref="id4" />
      <target ref="id3" />
      
      
      <label kind="synchronisation" x="-139" y="-298">go?</label>
      <label kind="assignment" x="-139" y="-283">x_7 := 0</label>
      
    </transition>

    <transition>
      <source ref="id3" />
      <target ref="id1" />
      
      <label kind="guard" x="-139" y="-112">x_7 &gt;= 7</label>
      
      <label kind="assignment" x="-139" y="-82">x_7 := 0</label>
      
    </transition>

    <transition>
      <source ref="id1" />
      <target ref="id0" />
      
      <label kind="guard" x="-253" y="-421">x_7 &gt;= 3</label>
      <label kind="synchronisation" x="-253" y="-406">leave!</label>
      
      
    </transition>

    <transition>
      <source ref="id2" />
      <target ref="id1" />
      
      <label kind="guard" x="-53" y="-313">x_7 &gt;= 10</label>
      
      <label kind="assignment" x="-53" y="-283">x_7 := 0</label>
      
    </transition>
  </template>
  <template>
    <name x="5" y="5">Gate</name>
    
    <declaration></declaration>
    
    <location id="id0" x="-40" y="-384">
      <name x="-40" y="-369">Free</name>
      
      
      
      
    </location>

    <location id="id1" x="-40" y="-205">
      <name x="-40" y="-190">Occ</name>
      
      
      
      
    </location>

    <location id="id2" x="-40" y="-27">
      <name x="-40" y="-12">C0</name>
      
      
      <committed />
      
    </location>
    
    <init ref="id0" />
    
    <transition>
      <source ref="id0" />
      <target ref="id1" />
      
      
      <label kind="synchronisation" x="-67" y="-264">appr?</label>
      
      
    </transition>

    <transition>
      <source ref="id0" />
      <target ref="id1" />
      
      
      <label kind="synchronisation" x="-67" y="-264">go!</label>
      
      
    </transition>

    <transition>
      <source ref="id1" />
      <target ref="id0" />
      
      
      <label kind="synchronisation" x="-67" y="-264">leave?</label>
      
      
    </transition>

    <transition>
      <source ref="id1" />
      <target ref="id2" />
      
      
      <label kind="synchronisation" x="-62" y="-86">appr?</label>
      
      
    </transition>

    <transition>
      <source ref="id2" />
      <target ref="id1" />
      
      
      <label kind="synchronisation" x="-62" y="-86">stop!</label>
      
      
    </transition>
  </template>

  <system>system Train, Gate;
</system>
</nta>